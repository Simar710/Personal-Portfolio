---
import Layout from "../components/Layout.astro";
import ProjectCard from "../components/ProjectCard";
import "../components/slideshow.js"; // Import the slideshow JavaScript

const projectData = [
  {
    id: "slideshow1",
    title: "ePortfolio",
    description: "GUI program to buy, sell, update, get total gain(profit) and search the investments.",
    slides: [
      { src: "GUI1.png", alt: "Main Page" },
      { src: "GUI2.png", alt: "Buy Page" },
      { src: "GUI3.png", alt: "Sell Page" },
      { src: "GUI4.png", alt: "Update Page" },
      { src: "GUI5.png", alt: "Profit Page" },
      { src: "GUI6.png", alt: "Search Page" },
    ],
    githubLink: "https://github.com/Simar710/ePortfolio"
  },
  {
    id: "slideshow2",
    title: "COVID-19 Statistical Data Analyzer",
    description: "A program to process, analyze, and plot COVID-19 data.",
    slides: [
      { src: "covid1.png", alt: "Project 2 Slide 1" },
      { src: "covid2.png", alt: "Project 2 Slide 2" },
      { src: "covid3.png", alt: "Project 2 Slide 2" },
      { src: "covid4.png", alt: "Project 2 Slide 2" },
      { src: "covid5.png", alt: "Project 2 Slide 2" },
    ],
    githubLink: "https://github.com/Simar710/COVID-19-Statistical-Data-Analyzer"
  },
  {
    id: "slideshow3",
    title: "GryphHub",
    description: "A prototype similar to university's website performing various function in java",
    slides: [
      { src: "GryphHub/GryphHub.drawio.svg", alt: "GryphHub" },
      { src: "GryphHub/class-diagram.svg", alt: "Class Diagram" },
      { src: "GryphHub/Entity_Diagram.drawio.svg", alt: "Entity Diagram" },
      { src: "GryphHub/InputOfficeHours.drawio.svg", alt: "Input Office Hours Sequence  Diagram" },
      { src: "GryphHub/ViewCourses.drawio.svg", alt: "View Course Sequence Diagram" },
      { src: "GryphHub/DropCourse.drawio.svg", alt: "Drop Course Sequence Diagram" },
      { src: "GryphHub/ViewTimetable.drawio.svg", alt: "View Timetable Sequence Diagram" },
      { src: "GryphHub/IndicateConflict.drawio.svg", alt: "Indiacte Conflict Sequence Diagram" },
      { src: "GryphHub/RegisterCourse.drawio.svg", alt: "Register Course Sequence Diagram" },
      { src: "GryphHub/ViewClasslist.drawio.svg", alt: "View Classlist Sequence Diagram" },
    ],
    githubLink: "https://github.com/Simar710/GryphHub"
  },
  {
    id: "slideshow4",
    title: "SVG Parser",
    description: "A program to process, analyze, and plot COVID-19 data.",
    slides: [
    { src: "svgParser/Emoji_poo.svg", alt: "Poo Emoji SVG" },
    { src: "svgParser/hen_and_chicks.svg", alt: "Hen and chicks SVG" },
    { src: "svgParser/rects.svg", alt: "rect SVG" },
    { src: "svgParser/quad01.svg", alt: "quad SVG" },
    ],
    githubLink: "https://github.com/Simar710/SVG-Parser"
  },
  {
    id: "slideshow5",
    title: "Weapon Detection System",
    description: "A robust weapon detection and classification system using advanced Machine Learning techniques.",
    slides: [
      { src: "weaponDetection/val_batch0_labels.jpg", alt: "Val Batch Label" },
      { src: "weaponDetection/train_batch2.jpg", alt: "Training YOLO" },
      { src: "weaponDetection/results.png", alt: "Result" },
      { src: "weaponDetection/FFNN.png", alt: "FFNN" },
      { src: "weaponDetection/confusion_matrix_normalized.png", alt: "Normalised confusion matrix" },
      { src: "weaponDetection/confusion_matrix.png", alt: "Confusion Matrix" },
      { src: "weaponDetection/F1_curve.png", alt: "F1 Curve" },
      { src: "weaponDetection/labels_correlogram.jpg", alt: "Label Correlogram" },
      { src: "weaponDetection/labels.jpg", alt: "Labels" },
      { src: "weaponDetection/P_curve.png", alt: "P curve" },
      { src: "weaponDetection/PR_curve.png", alt: "PR curve" },
      { src: "weaponDetection/R_curve.png", alt: "R curve" },
    ],
    githubLink: "https://github.com/Simar710/Weapon-Detection-System"
  },
  {
    id: "slideshow6",
    title: "COVID-19 Statistical Data Analyzer",
    description: "A program to process, analyze, and plot COVID-19 data.",
    slides: [
      { src: "covid1.png", alt: "Project 2 Slide 1" },
      { src: "covid2.png", alt: "Project 2 Slide 2" },
    ],
    githubLink: "https://github.com/Simar710/EduGraph"
  },
];
---

<Layout>
  <section id="projects" class="projects-section">
    <div class="projects-content">
      <h2>My Projects</h2>
      <div class="project-grid">
        {projectData.map(project => (
          <ProjectCard
            id={project.id}
            title={project.title}
            description={project.description}
            slides={project.slides}
            githubLink={project.githubLink}
          />
        ))}
      </div>
    </div>
  </section>

  <!-- Run slideshow initialization after all components are rendered -->
  <script>
    import { startSlideshow } from "../components/slideshow.js";
    document.addEventListener("DOMContentLoaded", () => {
      const projectData = [
        { id: "slideshow1" },
        { id: "slideshow2" },
        { id: "slideshow3" },
        { id: "slideshow4" },
        { id: "slideshow5" },
        { id: "slideshow6" },
        // Add all slideshows
      ];
  
      projectData.forEach(project => startSlideshow(project.id));
    });
  </script>
  
</Layout>
